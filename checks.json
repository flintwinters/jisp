[
  {
    "description": "Sanity Check 1: Simple stack-based addition.",
    "jisp_program": {
      "code": [
        [
          "push",
          5.0
        ],
        [
          "push",
          3.0
        ],
        [
          "add"
        ],
        [
          "pop",
          "result_of_addition"
        ]
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {
          "type": "array",
          "maxItems": 0
        },
        "state": {
          "type": "object",
          "properties": {
            "result_of_addition": {
              "type": "number",
              "const": 8.0
            }
          },
          "required": [
            "result_of_addition"
          ],
          "additionalProperties": false
        },
        "variables": {
          "type": "object",
          "maxProperties": 0
        }
      },
      "required": [
        "stack",
        "state",
        "variables"
      ],
      "additionalProperties": false
    }
  },
  {
    "description": "Sanity Check 2: Variable assignment and retrieval.",
    "jisp_program": {
      "code": [
        [
          "push",
          "Hello, JISP!"
        ],
        [
          "push",
          "my_variable"
        ],
        [
          "set"
        ],
        [
          "push",
          "my_variable"
        ],
        [
          "get"
        ],
        [
          "pop",
          "retrieved_message"
        ]
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {
          "type": "array",
          "maxItems": 0
        },
        "variables": {
          "type": "object",
          "properties": {
            "my_variable": {
              "type": "string",
              "const": "Hello, JISP!"
            }
          },
          "required": [
            "my_variable"
          ],
          "additionalProperties": false
        },
        "state": {
          "type": "object",
          "properties": {
            "retrieved_message": {
              "type": "string",
              "const": "Hello, JISP!"
            }
          },
          "required": [
            "retrieved_message"
          ],
          "additionalProperties": false
        }
      },
      "required": [
        "stack",
        "variables",
        "state"
      ],
      "additionalProperties": false
    }
  },
  {
    "description": "Test Case 3: Exists operation - variable exists.",
    "jisp_program": {
      "code": [
        [
          "push",
          "some_value"
        ],
        [
          "push",
          "existing_var"
        ],
        [
          "set"
        ],
        [
          "push",
          "existing_var"
        ],
        [
          "exists"
        ]
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {
          "type": "array",
          "minItems": 1,
          "maxItems": 1,
          "items": {
            "type": "boolean",
            "const": true
          }
        },
        "variables": {
          "type": "object",
          "properties": {
            "existing_var": {
              "type": "string",
              "const": "some_value"
            }
          },
          "required": [
            "existing_var"
          ],
          "additionalProperties": false
        },
        "state": {
          "type": "object",
          "maxProperties": 0
        }
      },
      "required": [
        "stack",
        "variables",
        "state"
      ],
      "additionalProperties": false
    }
  },
  {
    "description": "Test Case 4: Exists operation - variable does not exist.",
    "jisp_program": {
      "code": [
        [
          "push",
          "non_existent_var"
        ],
        [
          "exists"
        ]
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {
          "type": "array",
          "minItems": 1,
          "maxItems": 1,
          "items": {
            "type": "boolean",
            "const": false
          }
        },
        "variables": {
          "type": "object",
          "maxProperties": 0
        },
        "state": {
          "type": "object",
          "maxProperties": 0
        }
      },
      "required": [
        "stack",
        "variables",
        "state"
      ],
      "additionalProperties": false
    }
  },
  {
    "description": "Test Case 5: Delete operation.",
    "jisp_program": {
      "code": [
        [
          "push",
          "value_to_delete"
        ],
        [
          "push",
          "var_to_delete"
        ],
        [
          "set"
        ],
        [
          "push",
          "var_to_delete"
        ],
        [
          "delete"
        ]
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {
          "type": "array",
          "maxItems": 0
        },
        "variables": {
          "type": "object",
          "maxProperties": 0
        },
        "state": {
          "type": "object",
          "maxProperties": 0
        }
      },
      "required": [
        "stack",
        "variables",
        "state"
      ],
      "additionalProperties": false
    }
  },
  {
    "description": "Test Case 6: Eq operation - equal values.",
    "jisp_program": {
      "code": [
        [
          "push",
          10.0
        ],
        [
          "push",
          10.0
        ],
        [
          "eq"
        ]
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {
          "type": "array",
          "minItems": 1,
          "maxItems": 1,
          "items": {
            "type": "boolean",
            "const": true
          }
        },
        "variables": {
          "type": "object",
          "maxProperties": 0
        },
        "state": {
          "type": "object",
          "maxProperties": 0
        }
      },
      "required": [
        "stack",
        "variables",
        "state"
      ],
      "additionalProperties": false
    }
  },
  {
    "description": "Test Case 7: Eq operation - unequal values.",
    "jisp_program": {
      "code": [
        [
          "push",
          10.0
        ],
        [
          "push",
          20.0
        ],
        [
          "eq"
        ]
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {
          "type": "array",
          "minItems": 1,
          "maxItems": 1,
          "items": {
            "type": "boolean",
            "const": false
          }
        },
        "variables": {
          "type": "object",
          "maxProperties": 0
        },
        "state": {
          "type": "object",
          "maxProperties": 0
        }
      },
      "required": [
        "stack",
        "variables",
        "state"
      ],
      "additionalProperties": false
    }
  },
  {
    "description": "Test Case 8: If operation - true condition, then block executes.",
    "jisp_program": {
      "code": [
        [
          "push",
          true
        ],
        [
          "if",
          [
            [
              "push",
              "then_executed"
            ],
            [
              "pop",
              "if_result"
            ]
          ]
        ]
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {
          "type": "array",
          "maxItems": 0
        },
        "state": {
          "type": "object",
          "properties": {
            "if_result": {
              "type": "string",
              "const": "then_executed"
            }
          },
          "required": [
            "if_result"
          ],
          "additionalProperties": false
        },
        "variables": {
          "type": "object",
          "maxProperties": 0
        }
      },
      "required": [
        "stack",
        "state",
        "variables"
      ],
      "additionalProperties": false
    }
  },
  {
    "description": "Test Case 9: If operation - false condition, else block executes.",
    "jisp_program": {
      "code": [
        [
          "push",
          false
        ],
        [
          "if",
          [
            [
              "push",
              "then_not_executed"
            ],
            [
              "pop",
              "if_result_then"
            ]
          ],
          [
            [
              "push",
              "else_executed"
            ],
            [
              "pop",
              "if_result_else"
            ]
          ]
        ]
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {
          "type": "array",
          "maxItems": 0
        },
        "state": {
          "type": "object",
          "properties": {
            "if_result_else": {
              "type": "string",
              "const": "else_executed"
            }
          },
          "required": [
            "if_result_else"
          ],
          "additionalProperties": false
        },
        "variables": {
          "type": "object",
          "maxProperties": 0
        }
      },
      "required": [
        "stack",
        "state",
        "variables"
      ],
      "additionalProperties": false
    }
  },
  {
    "description": "Test Case 10: If operation - false condition, no else block.",
    "jisp_program": {
      "code": [
        [
          "push",
          false
        ],
        [
          "if",
          [
            [
              "push",
              "should_not_execute"
            ],
            [
              "pop",
              "if_result_no_else"
            ]
          ]
        ]
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {
          "type": "array",
          "maxItems": 0
        },
        "state": {
          "type": "object",
          "maxProperties": 0
        },
        "variables": {
          "type": "object",
          "maxProperties": 0
        }
      },
      "required": [
        "stack",
        "state",
        "variables"
      ],
      "additionalProperties": false
    }
  },
  {
    "description": "Test Case 11: Trim operation - removes leading/trailing spaces.",
    "jisp_program": {
      "code": [
        [
          "push",
          "  hello world  "
        ],
        [
          "trim"
        ],
        [
          "pop",
          "trimmed_string"
        ]
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {
          "type": "array",
          "maxItems": 0
        },
        "state": {
          "type": "object",
          "properties": {
            "trimmed_string": {
              "type": "string",
              "const": "hello world"
            }
          },
          "required": [
            "trimmed_string"
          ],
          "additionalProperties": false
        },
        "variables": {
          "type": "object",
          "maxProperties": 0
        }
      },
      "required": [
        "stack",
        "state",
        "variables"
      ],
      "additionalProperties": false
    }
  },
  {
    "description": "Test Case 12: Lower operation - converts string to lowercase.",
    "jisp_program": {
      "code": [
        [
          "push",
          "Hello World"
        ],
        [
          "lower"
        ],
        [
          "pop",
          "lowercased_string"
        ]
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {
          "type": "array",
          "maxItems": 0
        },
        "state": {
          "type": "object",
          "properties": {
            "lowercased_string": {
              "type": "string",
              "const": "hello world"
            }
          },
          "required": [
            "lowercased_string"
          ],
          "additionalProperties": false
        },
        "variables": {
          "type": "object",
          "maxProperties": 0
        }
      },
      "required": [
        "stack",
        "state",
        "variables"
      ],
      "additionalProperties": false
    }
  },
  {
    "description": "Test Case 13: Upper operation - converts string to uppercase.",
    "jisp_program": {
      "code": [
        [
          "push",
          "Hello World"
        ],
        [
          "upper"
        ],
        [
          "pop",
          "uppercased_string"
        ]
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {
          "type": "array",
          "maxItems": 0
        },
        "state": {
          "type": "object",
          "properties": {
            "uppercased_string": {
              "type": "string",
              "const": "HELLO WORLD"
            }
          },
          "required": [
            "uppercased_string"
          ],
          "additionalProperties": false
        },
        "variables": {
          "type": "object",
          "maxProperties": 0
        }
      },
      "required": [
        "stack",
        "state",
        "variables"
      ],
      "additionalProperties": false
    }
  },
  {
    "description": "Test Case 14: ToString operation - converts integer to string.",
    "jisp_program": {
      "code": [
        [
          "push",
          123.0
        ],
        [
          "to_string"
        ],
        [
          "pop",
          "string_from_int"
        ]
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {
          "type": "array",
          "maxItems": 0
        },
        "state": {
          "type": "object",
          "properties": {
            "string_from_int": {
              "type": "string",
              "const": "123"
            }
          },
          "required": [
            "string_from_int"
          ],
          "additionalProperties": false
        },
        "variables": {
          "type": "object",
          "maxProperties": 0
        }
      },
      "required": [
        "stack",
        "state",
        "variables"
      ],
      "additionalProperties": false
    }
  },
  {
    "description": "Test Case 15: Concat operation - concatenates two strings.",
    "jisp_program": {
      "code": [
        [
          "push",
          "hello "
        ],
        [
          "push",
          "world"
        ],
        [
          "concat"
        ],
        [
          "pop",
          "concatenated_string"
        ]
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {
          "type": "array",
          "maxItems": 0
        },
        "state": {
          "type": "object",
          "properties": {
            "concatenated_string": {
              "type": "string",
              "const": "hello world"
            }
          },
          "required": [
            "concatenated_string"
          ],
          "additionalProperties": false
        },
        "variables": {
          "type": "object",
          "maxProperties": 0
        }
      },
      "required": [
        "stack",
        "state",
        "variables"
      ],
      "additionalProperties": false
    }
  },
  {
    "description": "Test Case 16: While operation - decrements counter.",
    "jisp_program": {
      "code": [
        [
          "push",
          3.0
        ],
        [
          "push",
          "counter"
        ],
        [
          "set"
        ],
        [
          "push",
          true
        ],
        [
          "push",
          "loop_condition"
        ],
        [
          "set"
        ],
        [
          "while",
          "loop_condition",
          [
            [
              "push",
              "counter"
            ],
            [
              "get"
            ],
            [
              "push",
              1.0
            ],
            [
              "sub"
            ],
            [
              "push",
              "counter"
            ],
            [
              "set"
            ],
            [
              "push",
              "counter"
            ],
            [
              "get"
            ],
            [
              "push",
              0.0
            ],
            [
              "eq"
            ],
            [
              "if",
              [
                [
                  "push",
                  false
                ],
                [
                  "push",
                  "loop_condition"
                ],
                [
                  "set"
                ]
              ]
            ]
          ]
        ],
        [
          "push",
          "counter"
        ],
        [
          "get"
        ],
        [
          "pop",
          "final_counter_value"
        ]
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {
          "type": "array",
          "maxItems": 0
        },
        "variables": {
          "type": "object",
          "properties": {
            "counter": {
              "type": "number",
              "const": 0.0
            },
            "loop_condition": {
              "type": "boolean",
              "const": false
            }
          },
          "required": [
            "counter",
            "loop_condition"
          ],
          "additionalProperties": false
        },
        "state": {
          "type": "object",
          "properties": {
            "final_counter_value": {
              "type": "number",
              "const": 0.0
            }
          },
          "required": [
            "final_counter_value"
          ],
          "additionalProperties": false
        }
      },
      "required": [
        "stack",
        "variables",
        "state"
      ],
      "additionalProperties": false
    }
  },
  {
    "description": "Test Case 17: Break in While loop - breaks when counter reaches 2.",
    "jisp_program": {
      "code": [
        [
          "push",
          0.0
        ],
        [
          "push",
          "counter"
        ],
        [
          "set"
        ],
        [
          "push",
          true
        ],
        [
          "push",
          "loop_condition"
        ],
        [
          "set"
        ],
        [
          "while",
          "loop_condition",
          [
            [
              "push",
              "counter"
            ],
            [
              "get"
            ],
            [
              "push",
              1.0
            ],
            [
              "add"
            ],
            [
              "push",
              "counter"
            ],
            [
              "set"
            ],
            [
              "push",
              "counter"
            ],
            [
              "get"
            ],
            [
              "push",
              2.0
            ],
            [
              "eq"
            ],
            [
              "if",
              [
                [
                  "break"
                ]
              ]
            ],
            [
              "push",
              "counter"
            ],
            [
              "get"
            ],
            [
              "push",
              5.0
            ],
            [
              "eq"
            ],
            [
              "if",
              [
                [
                  "push",
                  false
                ],
                [
                  "push",
                  "loop_condition"
                ],
                [
                  "set"
                ]
              ]
            ]
          ]
        ],
        [
          "push",
          "counter"
        ],
        [
          "get"
        ],
        [
          "pop",
          "final_counter_value_break"
        ]
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {
          "type": "array",
          "maxItems": 0
        },
        "variables": {
          "type": "object",
          "properties": {
            "counter": {
              "type": "number",
              "const": 2.0
            },
            "loop_condition": {
              "type": "boolean",
              "const": true
            }
          },
          "required": [
            "counter",
            "loop_condition"
          ],
          "additionalProperties": false
        },
        "state": {
          "type": "object",
          "properties": {
            "final_counter_value_break": {
              "type": "number",
              "const": 2.0
            }
          },
          "required": [
            "final_counter_value_break"
          ],
          "additionalProperties": false
        }
      },
      "required": [
        "stack",
        "variables",
        "state"
      ],
      "additionalProperties": false
    }
  },
  {
    "description": "Test Case 18: Continue in While loop - skips even numbers.",
    "jisp_program": {
      "code": [
        [
          "push",
          0.0
        ],
        [
          "push",
          "i"
        ],
        [
          "set"
        ],
        [
          "push",
          0.0
        ],
        [
          "push",
          "sum_of_odd_numbers"
        ],
        [
          "set"
        ],
        [
          "push",
          true
        ],
        [
          "push",
          "loop_condition"
        ],
        [
          "set"
        ],
        [
          "while",
          "loop_condition",
          [
            [
              "push",
              "i"
            ],
            [
              "get"
            ],
            [
              "push",
              1.0
            ],
            [
              "add"
            ],
            [
              "push",
              "i"
            ],
            [
              "set"
            ],
            [
              "push",
              "i"
            ],
            [
              "get"
            ],
            [
              "push",
              5.0
            ],
            [
              "gt"
            ],
            [
              "if",
              [
                [
                  "push",
                  false
                ],
                [
                  "push",
                  "loop_condition"
                ],
                [
                  "set"
                ]
              ]
            ],
            [
              "push",
              "i"
            ],
            [
              "get"
            ],
            [
              "push",
              2.0
            ],
            [
              "mod"
            ],
            [
              "push",
              0.0
            ],
            [
              "eq"
            ],
            [
              "if",
              [
                [
                  "continue"
                ]
              ]
            ],
            [
              "push",
              "sum_of_odd_numbers"
            ],
            [
              "get"
            ],
            [
              "push",
              "i"
            ],
            [
              "get"
            ],
            [
              "add"
            ],
            [
              "push",
              "sum_of_odd_numbers"
            ],
            [
              "set"
            ]
          ]
        ],
        [
          "push",
          "sum_of_odd_numbers"
        ],
        [
          "get"
        ],
        [
          "pop",
          "final_sum_of_odd_numbers"
        ]
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {
          "type": "array",
          "maxItems": 0
        },
        "variables": {
          "type": "object",
          "properties": {
            "i": {
              "type": "number",
              "const": 6.0
            },
            "sum_of_odd_numbers": {
              "type": "number",
              "const": 9.0
            },
            "loop_condition": {
              "type": "boolean",
              "const": false
            }
          },
          "required": [
            "i",
            "sum_of_odd_numbers",
            "loop_condition"
          ],
          "additionalProperties": false
        },
        "state": {
          "type": "object",
          "properties": {
            "final_sum_of_odd_numbers": {
              "type": "number",
              "const": 9.0
            }
          },
          "required": [
            "final_sum_of_odd_numbers"
          ],
          "additionalProperties": false
        }
      },
      "required": [
        "stack",
        "variables",
        "state"
      ],
      "additionalProperties": false
    }
  },
  {
    "description": "Test Case 19: Len operation - string, array, and object.",
    "jisp_program": {
      "code": [
        [
          "push",
          "hello"
        ],
        [
          "len"
        ],
        [
          "pop",
          "string_length"
        ],
        [
          "push",
          [
            1.0,
            2.0,
            3.0,
            4.0
          ]
        ],
        [
          "len"
        ],
        [
          "pop",
          "array_length"
        ],
        [
          "push",
          {
            "a": 1.0,
            "b": 2.0
          }
        ],
        [
          "len"
        ],
        [
          "pop",
          "object_length"
        ]
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {
          "type": "array",
          "maxItems": 0
        },
        "state": {
          "type": "object",
          "properties": {
            "string_length": {
              "type": "number",
              "const": 5.0
            },
            "array_length": {
              "type": "number",
              "const": 4.0
            },
            "object_length": {
              "type": "number",
              "const": 2.0
            }
          },
          "required": [
            "string_length",
            "array_length",
            "object_length"
          ],
          "additionalProperties": false
        },
        "variables": {
          "type": "object",
          "maxProperties": 0
        }
      },
      "required": [
        "stack",
        "state",
        "variables"
      ],
      "additionalProperties": false
    }
  },
  {
    "description": "Test Case 20: Keys operation - retrieves keys from an object.",
    "jisp_program": {
      "code": [
        [
          "push",
          {
            "name": "Alice",
            "age": 30,
            "city": "New York"
          }
        ],
        [
          "keys"
        ],
        [
          "pop",
          "object_keys"
        ]
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {
          "type": "array",
          "maxItems": 0
        },
        "state": {
          "type": "object",
          "properties": {
            "object_keys": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "minItems": 3,
              "maxItems": 3,
              "uniqueItems": true
            }
          },
          "required": [
            "object_keys"
          ],
          "additionalProperties": false
        },
        "variables": {
          "type": "object",
          "maxProperties": 0
        }
      },
      "required": [
        "stack",
        "state",
        "variables"
      ],
      "additionalProperties": false
    }
  },
  {
    "description": "Test Case 21: Values operation - retrieves values from an object.",
    "jisp_program": {
      "code": [
        [
          "push",
          {
            "name": "Bob",
            "age": 25,
            "city": "Los Angeles"
          }
        ],
        [
          "values"
        ],
        [
          "pop",
          "object_values"
        ]
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {
          "type": "array",
          "maxItems": 0
        },
        "state": {
          "type": "object",
          "properties": {
            "object_values": {
              "type": "array",
              "items": {},
              "minItems": 3,
              "maxItems": 3,
              "uniqueItems": false
            }
          },
          "required": [
            "object_values"
          ],
          "additionalProperties": false
        },
        "variables": {
          "type": "object",
          "maxProperties": 0
        }
      },
      "required": [
        "stack",
        "state",
        "variables"
      ],
      "additionalProperties": false
    }
  },
  {
    "description": "Test Case 22: Try operation - catches an error.",
    "jisp_program": {
      "code": [
        [
          "try",
          [
            [
              "push",
              "non_existent_var"
            ],
            [
              "get"
            ]
          ],
          "caught_error",
          [
            [
              "push",
              "caught"
            ],
            [
              "pop",
              "status"
            ]
          ]
        ],
        [
          "push",
          "caught_error"
        ],
        [
          "get"
        ],
        [
          "pop",
          "error_message"
        ]
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {
          "type": "array",
          "maxItems": 0
        },
        "variables": {
          "type": "object",
          "properties": {
            "caught_error": {
              "type": "string",
              "pattern": "get error: variable 'non_existent_var' not found"
            }
          },
          "required": [
            "caught_error"
          ],
          "additionalProperties": false
        },
        "state": {
          "type": "object",
          "properties": {
            "status": {
              "type": "string",
              "const": "caught"
            },
            "error_message": {
              "type": "string",
              "pattern": "get error: variable 'non_existent_var' not found"
            }
          },
          "required": [
            "status",
            "error_message"
          ],
          "additionalProperties": false
        }
      },
      "required": [
        "stack",
        "variables",
        "state"
      ],
      "additionalProperties": false
    }
  },
  {
    "description": "Test Case 23: Try operation - no error, try block completes.",
    "jisp_program": {
      "code": [
        [
          "try",
          [
            [
              "push",
              1
            ],
            [
              "push",
              "successful_result"
            ],
            [
              "set"
            ]
          ],
          "no_error_var",
          [
            [
              "push",
              "this should not execute"
            ],
            [
              "pop",
              "unexpected_status"
            ]
          ]
        ],
        [
          "push",
          "successful_result"
        ],
        [
          "get"
        ],
        [
          "pop",
          "final_status"
        ]
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {
          "type": "array",
          "maxItems": 0
        },
        "variables": {
          "type": "object",
          "properties": {
            "successful_result": {
              "type": "number",
              "const": 1.0
            }
          },
          "required": [
            "successful_result"
          ],
          "additionalProperties": false
        },
        "state": {
          "type": "object",
          "properties": {
            "final_status": {
              "type": "number",
              "const": 1.0
            }
          },
          "required": [
            "final_status"
          ],
          "additionalProperties": false
        }
      },
      "required": [
        "stack",
        "variables",
        "state"
      ],
      "additionalProperties": false
    }
  },
  {
    "description": "Test Case 24: Replace operation - replaces all occurrences of a substring.",
    "jisp_program": {
      "code": [
        [
          "push",
          "hello world hello"
        ],
        [
          "push",
          "hello"
        ],
        [
          "push",
          "hi"
        ],
        [
          "replace"
        ],
        [
          "pop",
          "replaced_string"
        ]
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {
          "type": "array",
          "maxItems": 0
        },
        "state": {
          "type": "object",
          "properties": {
            "replaced_string": {
              "type": "string",
              "const": "hi world hi"
            }
          },
          "required": [
            "replaced_string"
          ],
          "additionalProperties": false
        },
        "variables": {
          "type": "object",
          "maxProperties": 0
        }
      },
      "required": [
        "stack",
        "state",
        "variables"
      ],
      "additionalProperties": false
    }
  },
  {
    "description": "Test Case 25: For operation - iterates over an array and sums values.",
    "jisp_program": {
      "code": [
        [
          "push",
          0.0
        ],
        [
          "push",
          "sum"
        ],
        [
          "set"
        ],
        [
          "for",
          "item",
          [
            1.0,
            2.0,
            3.0
          ],
          [
            [
              "push",
              "sum"
            ],
            [
              "get"
            ],
            [
              "push",
              "item"
            ],
            [
              "get"
            ],
            [
              "add"
            ],
            [
              "push",
              "sum"
            ],
            [
              "set"
            ]
          ]
        ],
        [
          "push",
          "sum"
        ],
        [
          "get"
        ],
        [
          "pop",
          "final_sum"
        ]
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {
          "type": "array",
          "maxItems": 0
        },
        "variables": {
          "type": "object",
          "properties": {
            "sum": {
              "type": "number",
              "const": 6.0
            }
          },
          "required": [
            "sum"
          ],
          "additionalProperties": true
        },
        "state": {
          "type": "object",
          "properties": {
            "final_sum": {
              "type": "number",
              "const": 6.0
            }
          },
          "required": [
            "final_sum"
          ],
          "additionalProperties": false
        }
      },
      "required": [
        "stack",
        "variables",
        "state"
      ],
      "additionalProperties": false
    }
  },
  {
    "description": "Test Case 26: Slice operation - slice a string with start and end index.",
    "jisp_program": {
      "code": [
        ["push", "hello world"],
        ["push", 0.0],
        ["push", 5.0],
        ["slice"],
        ["pop", "sliced_string"]
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {
          "type": "array",
          "maxItems": 0
        },
        "state": {
          "type": "object",
          "properties": {
            "sliced_string": {
              "type": "string",
              "const": "hello"
            }
          },
          "required": ["sliced_string"],
          "additionalProperties": false
        },
        "variables": {
          "type": "object",
          "maxProperties": 0
        }
      },
      "required": ["stack", "state", "variables"],
      "additionalProperties": false
    }
  },
  {
    "description": "Test Case 27: Slice operation - slice an array with start index only.",
    "jisp_program": {
      "code": [
        ["push", [1.0, 2.0, 3.0, 4.0, 5.0]],
        ["push", 2.0],
        ["slice"],
        ["pop", "sliced_array"]
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {
          "type": "array",
          "maxItems": 0
        },
        "state": {
          "type": "object",
          "properties": {
            "sliced_array": {
              "type": "array",
              "items": {"type": "number"},
              "const": [3.0, 4.0, 5.0]
            }
          },
          "required": ["sliced_array"],
          "additionalProperties": false
        },
        "variables": {
          "type": "object",
          "maxProperties": 0
        }
      },
      "required": ["stack", "state", "variables"],
      "additionalProperties": false
    }
  },
  {
    "description": "Test Case 28: Slice operation - slice an array with start and end index.",
    "jisp_program": {
      "code": [
        ["push", [10.0, 20.0, 30.0, 40.0, 50.0]],
        ["push", 1.0],
        ["push", 4.0],
        ["slice"],
        ["pop", "another_sliced_array"]
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {
          "type": "array",
          "maxItems": 0
        },
        "state": {
          "type": "object",
          "properties": {
            "another_sliced_array": {
              "type": "array",
              "items": {"type": "number"},
              "const": [20.0, 30.0, 40.0]
            }
          },
          "required": ["another_sliced_array"],
          "additionalProperties": false
        },
        "variables": {
          "type": "object",
          "maxProperties": 0
        }
      },
      "required": ["stack", "state", "variables"],
      "additionalProperties": false
    }
  },
  {
    "description": "Test Case 29: Error handling - getting a non-existent variable.",
    "jisp_program": {
      "code": [
        ["push", "non_existent_var"],
        ["get"]
      ]
    },
    "expected_error_message": "Message: get error: variable 'non_existent_var' not found"
  },
  {
    "description": "Test Case 30: Raise operation - raises a custom error.",
    "jisp_program": {
      "code": [
        ["push", "this is a custom error"],
        ["raise"]
      ]
    },
    "expected_error_message": "Message: this is a custom error"
  },
  {
    "description": "Test Case 31: Assert operation - positive case.",
    "jisp_program": {
      "code": [
        ["push", true],
        ["assert"]
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": { "type": "array", "maxItems": 0 }
      }
    }
  },
  {
    "description": "Test Case 32: Assert operation - negative case with default message.",
    "jisp_program": {
      "code": [
        ["push", false],
        ["assert"]
      ]
    },
    "expected_error_message": "Message: assertion failed"
  },
  {
    "description": "Test Case 33: Assert operation - negative case with custom message.",
    "jisp_program": {
      "code": [
        ["push", false],
        ["assert", "my custom assertion message"]
      ]
    },
    "expected_error_message": "Message: my custom assertion message"
  },
  {
    "description": "Test Case 34: Range operation - with start, stop, and step.",
    "jisp_program": {
      "code": [
        ["push", 2.0],
        ["push", 10.0],
        ["push", 2.0],
        ["range"],
        ["pop", "range_result"]
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": { "type": "array", "maxItems": 0 },
        "state": {
          "type": "object",
          "properties": {
            "range_result": {
              "type": "array",
              "items": { "type": "number" },
              "const": [2.0, 4.0, 6.0, 8.0]
            }
          }
        }
      }
    }
  },
  {
    "description": "Test Case 35: Filter operation - filters an array of numbers.",
    "jisp_program": {
      "code": [
        [
          "push",
          [1.0, 2.0, 3.0, 4.0, 5.0, 6.0]
        ],
        [
          "push",
          "item"
        ],
        [
          "push",
          [
            [
              "push",
              "item"
            ],
            [
              "get"
            ],
            [
              "push",
              3.0
            ],
            [
              "mod"
            ],
            [
              "push",
              0.0
            ],
            [
              "eq"
            ]
          ]
        ],
        [
          "filter"
        ],
        [
          "pop",
          "filtered_array"
        ]
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": { "type": "array", "maxItems": 0 },
        "state": {
          "type": "object",
          "properties": {
            "filtered_array": {
              "type": "array",
              "items": { "type": "number" },
              "const": [3.0, 6.0]
            }
          }
        }
      }
    }
  },
  {
    "description": "Test Case 36: Map operation - squares each number in an array.",
    "jisp_program": {
      "code": [
        [
          "push",
          [1.0, 2.0, 3.0, 4.0]
        ],
        [
          "push",
          "item"
        ],
        [
          "push",
          [
            [
              "push",
              "item"
            ],
            [
              "get"
            ],
            [
              "push",
              "item"
            ],
            [
              "get"
            ],
            [
              "mul"
            ]
          ]
        ],
        [
          "map"
        ],
        [
          "pop",
          "mapped_array"
        ]
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": { "type": "array", "maxItems": 0 },
        "state": {
          "type": "object",
          "properties": {
            "mapped_array": {
              "type": "array",
              "items": { "type": "number" },
              "const": [1.0, 4.0, 9.0, 16.0]
            }
          }
        }
      }
    }
  }
]