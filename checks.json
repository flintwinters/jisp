[
  {
    "description": "Sanity Check 1: Simple stack-based addition.",
    "jisp_program": {
      "code": [
        {"op": "push", "args": 5.0},
        {"op": "push", "args": 3.0},
        {"op": "add"},
        {"op": "pop", "args": "result_of_addition"}
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {"type": "array", "maxItems": 0},
        "state": {
          "type": "object",
          "properties": {
            "result_of_addition": {"type": "number", "const": 8.0}
          },
          "required": ["result_of_addition"],
          "additionalProperties": true
        }
      },
      "required": ["stack", "state"],
      "additionalProperties": true
    }
  },
  {
    "description": "Sanity Check 2: Variable assignment and retrieval.",
    "jisp_program": {
      "code": [
        {"op": "push", "args": "Hello, JISP!"},
        {"op": "push", "args": "my_variable"},
        {"op": "set"},
        {"op": "push", "args": "my_variable"},
        {"op": "get"},
        {"op": "pop", "args": "retrieved_message"}
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {"type": "array", "maxItems": 0},
        "variables": {
          "type": "object",
          "properties": {
            "my_variable": {"type": "string", "const": "Hello, JISP!"}
          },
          "required": ["my_variable"],
          "additionalProperties": true
        },
        "state": {
          "type": "object",
          "properties": {
            "retrieved_message": {"type": "string", "const": "Hello, JISP!"}
          },
          "required": ["retrieved_message"],
          "additionalProperties": true
        }
      },
      "required": ["stack", "variables", "state"],
      "additionalProperties": true
    }
  },
  {
    "description": "Test Case 3: Exists operation - variable exists.",
    "jisp_program": {
      "code": [
        {"op": "push", "args": "some_value"},
        {"op": "push", "args": "existing_var"},
        {"op": "set"},
        {"op": "push", "args": "existing_var"},
        {"op": "exists"}
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {
          "type": "array",
          "minItems": 1,
          "maxItems": 1,
          "items": {"type": "boolean", "const": true}
        },
        "variables": {
          "type": "object",
          "properties": {
            "existing_var": {"type": "string", "const": "some_value"}
          },
          "required": ["existing_var"],
          "additionalProperties": true
        }
      },
      "required": ["stack", "variables"],
      "additionalProperties": true
    }
  },
  {
    "description": "Test Case 4: Exists operation - variable does not exist.",
    "jisp_program": {
      "code": [
        {"op": "push", "args": "non_existent_var"},
        {"op": "exists"}
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {
          "type": "array",
          "minItems": 1,
          "maxItems": 1,
          "items": {"type": "boolean", "const": false}
        },
        "variables": {"type": "object", "maxProperties": 0}
      },
      "required": ["stack", "variables"],
      "additionalProperties": true
    }
  },
  {
    "description": "Test Case 5: Delete operation.",
    "jisp_program": {
      "code": [
        {"op": "push", "args": "value_to_delete"},
        {"op": "push", "args": "var_to_delete"},
        {"op": "set"},
        {"op": "push", "args": "var_to_delete"},
        {"op": "delete"}
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {"type": "array", "maxItems": 0},
        "variables": {"type": "object", "maxProperties": 0}
      },
      "required": ["stack", "variables"],
      "additionalProperties": true
    }
  },
  {
    "description": "Test Case 6: Eq operation - equal values.",
    "jisp_program": {
      "code": [
        {"op": "push", "args": 10.0},
        {"op": "push", "args": 10.0},
        {"op": "eq"}
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {
          "type": "array",
          "minItems": 1,
          "maxItems": 1,
          "items": {"type": "boolean", "const": true}
        }
      },
      "required": ["stack"],
      "additionalProperties": true
    }
  },
  {
    "description": "Test Case 7: Eq operation - unequal values.",
    "jisp_program": {
      "code": [
        {"op": "push", "args": 10.0},
        {"op": "push", "args": 20.0},
        {"op": "eq"}
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {
          "type": "array",
          "minItems": 1,
          "maxItems": 1,
          "items": {"type": "boolean", "const": false}
        }
      },
      "required": ["stack"],
      "additionalProperties": true
    }
  },
  {
    "description": "Test Case 8: If operation - true condition, then block executes.",
    "jisp_program": {
      "code": [
        {"op": "push", "args": true},
        {"op": "if", "args": [
          [{"op": "push", "args": "then_executed"},
           {"op": "pop", "args": "if_result"}]
        ]}
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {"type": "array", "maxItems": 0},
        "state": {
          "type": "object",
          "properties": {
            "if_result": {"type": "string", "const": "then_executed"}
          },
          "required": ["if_result"],
          "additionalProperties": true
        }
      },
      "required": ["stack", "state"],
      "additionalProperties": true
    }
  },
  {
    "description": "Test Case 9: If operation - false condition, else block executes.",
    "jisp_program": {
      "code": [
        {"op": "push", "args": false},
        {"op": "if", "args": [
          [{"op": "push", "args": "then_not_executed"},
           {"op": "pop", "args": "if_result_then"}],
          [{"op": "push", "args": "else_executed"},
           {"op": "pop", "args": "if_result_else"}]
        ]}
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {"type": "array", "maxItems": 0},
        "state": {
          "type": "object",
          "properties": {
            "if_result_else": {"type": "string", "const": "else_executed"}
          },
          "required": ["if_result_else"],
          "additionalProperties": false
        }
      },
      "required": ["stack", "state"],
      "additionalProperties": true
    }
  },
  {
    "description": "Test Case 10: If operation - false condition, no else block.",
    "jisp_program": {
      "code": [
        {"op": "push", "args": false},
        {"op": "if", "args": [
          [{"op": "push", "args": "should_not_execute"},
           {"op": "pop", "args": "if_result_no_else"}]
        ]}
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {"type": "array", "maxItems": 0},
        "state": {"type": "object", "maxProperties": 0}
      },
      "required": ["stack", "state"],
      "additionalProperties": true
    }
  },
  {
    "description": "Test Case 11: Trim operation - removes leading/trailing spaces.",
    "jisp_program": {
      "code": [
        {"op": "push", "args": "  hello world  "},
        {"op": "trim"},
        {"op": "pop", "args": "trimmed_string"}
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {"type": "array", "maxItems": 0},
        "state": {
          "type": "object",
          "properties": {
            "trimmed_string": {"type": "string", "const": "hello world"}
          },
          "required": ["trimmed_string"],
          "additionalProperties": true
        }
      },
      "required": ["stack", "state"],
      "additionalProperties": true
    }
  },
  {
    "description": "Test Case 12: Lower operation - converts string to lowercase.",
    "jisp_program": {
      "code": [
        {"op": "push", "args": "Hello World"},
        {"op": "lower"},
        {"op": "pop", "args": "lowercased_string"}
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {"type": "array", "maxItems": 0},
        "state": {
          "type": "object",
          "properties": {
            "lowercased_string": {"type": "string", "const": "hello world"}
          },
          "required": ["lowercased_string"],
          "additionalProperties": true
        }
      },
      "required": ["stack", "state"],
      "additionalProperties": true
    }
  },
  {
    "description": "Test Case 13: Upper operation - converts string to uppercase.",
    "jisp_program": {
      "code": [
        {"op": "push", "args": "Hello World"},
        {"op": "upper"},
        {"op": "pop", "args": "uppercased_string"}
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {"type": "array", "maxItems": 0},
        "state": {
          "type": "object",
          "properties": {
            "uppercased_string": {"type": "string", "const": "HELLO WORLD"}
          },
          "required": ["uppercased_string"],
          "additionalProperties": true
        }
      },
      "required": ["stack", "state"],
      "additionalProperties": true
    }
  },
  {
    "description": "Test Case 14: ToString operation - converts integer to string.",
    "jisp_program": {
      "code": [
        {"op": "push", "args": 123.0},
        {"op": "to_string"},
        {"op": "pop", "args": "string_from_int"}
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {"type": "array", "maxItems": 0},
        "state": {
          "type": "object",
          "properties": {
            "string_from_int": {"type": "string", "const": "123"}
          },
          "required": ["string_from_int"],
          "additionalProperties": true
        }
      },
      "required": ["stack", "state"],
      "additionalProperties": true
    }
  },
  {
    "description": "Test Case 15: Concat operation - concatenates two strings.",
    "jisp_program": {
      "code": [
        {"op": "push", "args": "hello "},
        {"op": "push", "args": "world"},
        {"op": "concat"},
        {"op": "pop", "args": "concatenated_string"}
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {"type": "array", "maxItems": 0},
        "state": {
          "type": "object",
          "properties": {
            "concatenated_string": {"type": "string", "const": "hello world"}
          },
          "required": ["concatenated_string"],
          "additionalProperties": true
        }
      },
      "required": ["stack", "state"],
      "additionalProperties": true
    }
  },
  {
    "description": "Test Case 16: While operation - decrements counter.",
    "jisp_program": {
      "code": [
        {"op": "push", "args": 3.0},
        {"op": "push", "args": "counter"},
        {"op": "set"},
        {"op": "push", "args": true},
        {"op": "push", "args": "loop_condition"},
        {"op": "set"},
        {"op": "while", "args": [
          "loop_condition",
          [
            {"op": "push", "args": "counter"},
            {"op": "get"},
            {"op": "push", "args": 1.0},
            {"op": "sub"},
            {"op": "push", "args": "counter"},
            {"op": "set"},
            {"op": "push", "args": "counter"},
            {"op": "get"},
            {"op": "push", "args": 0.0},
            {"op": "eq"},
            {"op": "if", "args": [
              [
                {"op": "push", "args": false},
                {"op": "push", "args": "loop_condition"},
                {"op": "set"}
              ]
            ]}
          ]
        ]},
        {"op": "push", "args": "counter"},
        {"op": "get"},
        {"op": "pop", "args": "final_counter_value"}
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {"type": "array", "maxItems": 0},
        "variables": {
          "type": "object",
          "properties": {
            "counter": {"type": "number", "const": 0.0},
            "loop_condition": {"type": "boolean", "const": false}
          },
          "required": ["counter", "loop_condition"],
          "additionalProperties": true
        },
        "state": {
          "type": "object",
          "properties": {
            "final_counter_value": {"type": "number", "const": 0.0}
          },
          "required": ["final_counter_value"],
          "additionalProperties": true
        }
      },
      "required": ["stack", "variables", "state"],
      "additionalProperties": true
    }
  },
  {
    "description": "Test Case 17: Break in While loop - breaks when counter reaches 2.",
    "jisp_program": {
      "code": [
        {"op": "push", "args": 0.0},
        {"op": "push", "args": "counter"},
        {"op": "set"},
        {"op": "push", "args": true},
        {"op": "push", "args": "loop_condition"},
        {"op": "set"},
        {"op": "while", "args": [
          "loop_condition",
          [
            {"op": "push", "args": "counter"},
            {"op": "get"},
            {"op": "push", "args": 1.0},
            {"op": "add"},
            {"op": "push", "args": "counter"},
            {"op": "set"},
            {"op": "push", "args": "counter"},
            {"op": "get"},
            {"op": "push", "args": 2.0},
            {"op": "eq"},
            {"op": "if", "args": [
              [{"op": "break"}]
            ]},
            {"op": "push", "args": "counter"},
            {"op": "get"},
            {"op": "push", "args": 5.0},
            {"op": "eq"},
            {"op": "if", "args": [
              [
                {"op": "push", "args": false},
                {"op": "push", "args": "loop_condition"},
                {"op": "set"}
              ]
            ]}
          ]
        ]},
        {"op": "push", "args": "counter"},
        {"op": "get"},
        {"op": "pop", "args": "final_counter_value_break"}
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {"type": "array", "maxItems": 0},
        "variables": {
          "type": "object",
          "properties": {
            "counter": {"type": "number", "const": 2.0}
          },
          "required": ["counter"],
          "additionalProperties": true
        },
        "state": {
          "type": "object",
          "properties": {
            "final_counter_value_break": {"type": "number", "const": 2.0}
          },
          "required": ["final_counter_value_break"],
          "additionalProperties": true
        }
      },
      "required": ["stack", "variables", "state"],
      "additionalProperties": true
    }
  },
  {
    "description": "Test Case 18: Continue in While loop - skips even numbers.",
    "jisp_program": {
      "code": [
        {"op": "push", "args": 0.0},
        {"op": "push", "args": "i"},
        {"op": "set"},
        {"op": "push", "args": 0.0},
        {"op": "push", "args": "sum_of_odd_numbers"},
        {"op": "set"},
        {"op": "push", "args": true},
        {"op": "push", "args": "loop_condition"},
        {"op": "set"},
        {"op": "while", "args": [
          "loop_condition",
          [
            {"op": "push", "args": "i"},
            {"op": "get"},
            {"op": "push", "args": 1.0},
            {"op": "add"},
            {"op": "push", "args": "i"},
            {"op": "set"},

            {"op": "push", "args": "i"},
            {"op": "get"},
            {"op": "push", "args": 5.0},
            {"op": "gt"},
            {"op": "if", "args": [
              [
                {"op": "push", "args": false},
                {"op": "push", "args": "loop_condition"},
                {"op": "set"}
              ]
            ]},

            {"op": "push", "args": "i"},
            {"op": "get"},
            {"op": "push", "args": 2.0},
            {"op": "mod"},
            {"op": "push", "args": 0.0},
            {"op": "eq"},
            {"op": "if", "args": [
              [
                {"op": "continue"}
              ]
            ]},

            {"op": "push", "args": "sum_of_odd_numbers"},
            {"op": "get"},
            {"op": "push", "args": "i"},
            {"op": "get"},
            {"op": "add"},
            {"op": "push", "args": "sum_of_odd_numbers"},
            {"op": "set"}
          ]
        ]},
        {"op": "push", "args": "sum_of_odd_numbers"},
        {"op": "get"},
        {"op": "pop", "args": "final_sum_of_odd_numbers"}
      ]
    },
    "validation_schema": {
      "type": "object",
      "properties": {
        "stack": {"type": "array", "maxItems": 0},
        "variables": {
          "type": "object",
          "properties": {
            "i": {"type": "number", "const": 6.0},
            "sum_of_odd_numbers": {"type": "number", "const": 9.0}
          },
          "required": ["i", "sum_of_odd_numbers"],
          "additionalProperties": true
        },
        "state": {
          "type": "object",
          "properties": {
            "final_sum_of_odd_numbers": {"type": "number", "const": 9.0}
          },
          "required": ["final_sum_of_odd_numbers"],
          "additionalProperties": true
        }
      },
      "required": ["stack", "variables", "state"],
      "additionalProperties": true
    }
  }
]