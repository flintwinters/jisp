{"op": "add", "doc": "Pops two numbers (a, b) from the stack and pushes a + b.", "args": {"type": "array", "maxItems": 0}, "output": {"type": "number"}}
{"op": "and", "doc": "Pops two booleans from the stack and pushes their logical AND.", "args": {"type": "array", "maxItems": 0}, "output": {"type": "boolean"}}
{"op": "assert", "doc": "Pops a value from the stack. If the value is false, raises an error with an optional custom message from the arguments. If no message is provided, a default 'assertion failed' error is used.", "args": {"type": "array", "minItems": 0, "maxItems": 1, "items": {"type": "string"}}, "output": {"type": "null"}}
{"op": "break", "doc": "Exit the nearest enclosing loop immediately (for/while).", "args": {"type": "array", "maxItems": 0}, "output": {"type": "null"}}
{"op": "concat", "doc": "Pops two strings from the stack and pushes their concatenation.", "args": {"type": "array", "maxItems": 0}, "output": {"type": "string"}}
{"op": "continue", "doc": "Skip the remainder of the current loop iteration and continue with the next iteration of the nearest enclosing loop.", "args": {"type": "array", "maxItems": 0}, "output": {"type": "null"}}
{"op": "delete", "doc": "Pops a variable name (string) from the stack and removes that variable.", "args": {"type": "array", "maxItems": 0}, "output": {"type": "null"}}
{"op": "difference", "doc": "Pops two arrays (a, b) from the stack and pushes their set difference (a - b).", "args": {"type": "array", "maxItems": 0}, "output": {"type": "array"}}
{"op": "div", "doc": "Pops two numbers (a, b) from the stack and pushes a / b.", "args": {"type": "array", "maxItems": 0}, "output": {"type": "number"}}
{"op": "eq", "doc": "Pops two values from the stack and pushes true if they are strictly equal, false otherwise.", "args": {"type": "array", "maxItems": 0}, "output": {"type": "boolean"}}
{"op": "exists", "doc": "Pops a variable name (string) from the stack. Returns true if a variable with that name exists, false otherwise.", "args": {"type": "array", "maxItems": 0}, "output": {"type": "boolean"}}
{"op": "exit", "doc": "Instantly stops execution of the JISP environment, returning the current program state as JSON.", "args": {"type": "array", "maxItems": 0}, "output": { "type": "null" }}
{"op": "filter", "doc": "Pops an array, a variable name, and a body of operations from the stack. For each element, it executes the body and if the result is true, the element is kept. Pushes the new filtered array to the stack.", "args": {"type": "array", "maxItems": 0}, "output": {"type": "array"}}
{"op": "for", "doc": "Iterate over an array or object. The arguments are the variable name for the item/key, the collection, and the body to execute.", "args": {"type": "array", "minItems": 3, "maxItems": 3, "items": [{"type": "string"}, {}, {"type": "array", "items": {"type": "array"}}]}, "output": {"type": "null"}}
{"op": "foreach", "doc": "Alias for `for`.", "args": {"type": "array", "minItems": 3, "maxItems": 3, "items": [{"type": "string"}, {}, {"type": "array", "items": {"type": "array"}}]}, "output": {"type": "null"}}
{"op": "get", "doc": "Retrieves values from variables. Can be called in three ways: 1. No arguments: pops a path (string or array) from the stack. 2. One argument: uses the argument as a path. 3. Multiple arguments: treats each argument as a path and retrieves all of them, pushing them to the stack in order.", "args": {"type": "array", "items": {"oneOf": [{"type": "string"}, {"type": "array", "items": {"type": ["string", "number"]}}]}}, "output": {}}
{"op": "gt", "doc": "Pops two values (a, b) from the stack and pushes true if a > b.", "args": {"type": "array", "maxItems": 0}, "output": {"type": "boolean"}}
{"op": "if", "doc": "Pops a boolean from the stack. If true, executes the first argument (then-body). If false, executes the second argument (else-body) if provided.", "args": {"type": "array", "minItems": 1, "maxItems": 2, "items": [{"type": "array", "items": {"type": "array"}}, {"type": "array", "items": {"type": "array"}}]}, "output": {"type": "null"}}
{"op": "intersection", "doc": "Pops two arrays from the stack and pushes their set intersection.", "args": {"type": "array", "maxItems": 0}, "output": {"type": "array"}}
{"op": "join", "doc": "Pops two arrays, two variable names, and a conditional body of operations. Performs a relational join on the arrays. For each pair of elements where the condition is true, a new object with both elements is created.", "args": {"type": "array", "maxItems": 0}, "output": {"type": "array"}}
{"op": "keys", "doc": "Pops an object from the stack and pushes an array of its keys.", "args": {"type": "array", "maxItems": 0}, "output": {"type": "array", "items": {"type": "string"}}}
{"op": "len", "doc": "Pops a string, array, or object from the stack and pushes its length or number of keys.", "args": {"type": "array", "maxItems": 0}, "output": {"type": "number"}}
{"op": "lower", "doc": "Pops a string from the stack and pushes its lowercase version.", "args": {"type": "array", "maxItems": 0}, "output": {"type": "string"}}
{"op": "lt", "doc": "Pops two values (a, b) from the stack and pushes true if a < b.", "args": {"type": "array", "maxItems": 0}, "output": {"type": "boolean"}}
{"op": "map", "doc": "Pops an array, a variable name, and a body of operations from the stack. Applies the body to each element of the array, with the element stored in the named variable. Pushes the new array of results to the stack.", "args": {"type": "array", "maxItems": 0}, "output": {"type": "array"}}
{"op": "mod", "doc": "Pops two numbers (a, b) from the stack and pushes a % b.", "args": {"type": "array", "maxItems": 0}, "output": {"type": "number"}}
{"op": "mul", "doc": "Pops two numbers (a, b) from the stack and pushes a * b.", "args": {"type": "array", "maxItems": 0}, "output": {"type": "number"}}
{"op": "noop", "doc": "Perform no action.", "args": {"type": "array", "maxItems": 0}, "output": {"type": "null"}}
{"op": "not", "doc": "Pops a boolean from the stack and pushes its logical NOT.", "args": {"type": "array", "maxItems": 0}, "output": {"type": "boolean"}}
{"op": "or", "doc": "Pops two booleans from the stack and pushes their logical OR.", "args": {"type": "array", "maxItems": 0}, "output": {"type": "boolean"}}
{"op": "pop", "doc": "Pop the top value from the operand stack and move it to the program state field specified by the argument.", "args": {"type": "array", "minItems": 1, "maxItems": 1, "items": {"type": "string"}}, "output": {"type": "null"}}
{"op": "push", "doc": "Push a value onto the operand stack.", "args": {"type": "array", "minItems": 1, "maxItems": 1, "items": {}}, "output": {"type": "null"}}
{"op": "raise", "doc": "Pops a string from the stack and raises an error with that message, halting execution.", "args": {"type": "array", "maxItems": 0}, "output": {"type": "null"}}
{"op": "range", "doc": "Pops three numbers (start, stop, step) from the stack and pushes an array of numbers in that range.", "args": {"type": "array", "maxItems": 0}, "output": {"type": "array", "items": {"type": "number"}}}
{"op": "reduce", "doc": "Pops an array, a body of operations, and an initial value from the stack. Reduces the array to a single value by applying the body to each element. Pushes the final value to the stack.", "args": {"type": "array", "maxItems": 0}, "output": {}}
{"op": "replace", "doc": "Pops three strings from the stack (new, old, str) and pushes the result of replacing all occurrences of 'old' with 'new' in 'str'.", "args": {"type": "array", "maxItems": 0}, "output": {"type": "string"}}
{"op": "set", "doc": "Assigns values to variables. Can be called in three ways: 1. No arguments: pops a value, then a path from the stack. 2. One argument: pops a value and assigns it to the specified path. 3. Multiple arguments: pops a value for each specified path and assigns them in LIFO order.", "args": {"type": "array", "items": {"oneOf": [{"type": "string"}, {"type": "array", "items": {"type": ["string", "number"]}}]}}, "output": {"type": "null"}}
{"op": "slice", "doc": "Pops a sliceable (string/array) and one or two numbers (start and optional end index) from the stack, and pushes the resulting slice.", "args": {"type": "array", "maxItems": 0}, "output": {"oneOf": [{"type": "array"}, {"type": "string"}]}}
{"op": "sort", "doc": "Pops an array of numbers or strings from the stack and pushes the sorted version.", "args": {"type": "array", "maxItems": 0}, "output": {"type": "array"}}
{"op": "sub", "doc": "Pops two numbers (a, b) from the stack and pushes a - b.", "args": {"type": "array", "maxItems": 0}, "output": {"type": "number"}}
{"op": "to_string", "doc": "Pops a value from the stack and pushes its string representation.", "args": {"type": "array", "maxItems": 0}, "output": {"type": "string"}}
{"op": "trim", "doc": "Pops a string from the stack and pushes a version with leading/trailing whitespace removed.", "args": {"type": "array", "maxItems": 0}, "output": {"type": "string"}}
{"op": "try", "doc": "Executes a block of code. If an error occurs, the error message is stored in a variable and an optional catch-block is executed. Arguments are: try-body, catch-variable-name, optional catch-body.", "args": {"type": "array", "minItems": 2, "maxItems": 3, "items": [{"type": "array", "items": {"type": "array"}}, {"type": "string"}, {"type": "array", "items": {"type": "array"}}]}, "output": {"type": "null"}}
{"op": "union", "doc": "Pops two arrays from the stack and pushes their set union.", "args": {"type": "array", "maxItems": 0}, "output": {"type": "array"}}
{"op": "upper", "doc": "Pops a string from the stack and pushes its uppercase version.", "args": {"type": "array", "maxItems": 0}, "output": {"type": "string"}}
{"op": "valid", "doc": "Pops a document and a JSON schema from the stack, and pushes true if the document is valid against the schema, false otherwise.", "args": {"type": "array", "maxItems": 0}, "output": {"type": "boolean"}}
{"op": "values", "doc": "Pops an object from the stack and pushes an array of its values.", "args": {"type": "array", "maxItems": 0}, "output": {"type": "array"}}
{"op": "while", "doc": "Repeatedly executes a body of operations as long as a condition variable is true. The arguments are the name of the boolean condition variable and the body to execute.", "args": {"type": "array", "minItems": 2, "maxItems": 2, "items": [{"type": "string"}, {"type": "array", "items": {"type": "array"}}]}, "output": {"type": "null"}}
{"op": "step", "doc": "Pops a Jisp state object (a JSON object containing the entire Jisp program state: stack, variables, code, and call stack) from the top of the stack, executes the next single operation within it, and pushes the modified Jisp state object back onto the stack.", "args": {"type": "array", "maxItems": 0}, "output": {"type": "object"}}
{"op": "undo", "doc": "Pops a Jisp state object (a JSON object containing the entire Jisp program state: stack, variables, code, and call stack) from the top of the stack, reverts the last operation performed within it, and pushes the modified state back onto the stack. To support this, a Jisp state object must contain a history of previous states.", "args": {"type": "array", "maxItems": 0}, "output": {"type": "object"}}
