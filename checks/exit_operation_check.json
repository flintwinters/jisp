[
  {
    "description": "Exit operation - stops execution and returns current state.",
    "jisp_program": {
      "variables": {
        "my_var": "hello"
      },
      "code": [
        [
          "push",
          1.0
        ],
        [
          "push",
          2.0
        ],
        [
          "set",
          "another_var"
        ],
        [
          "exit"
        ],
        [
          "push",
          "should_not_reach"
        ]
      ]
    },
    "expected_stack": [
      1.0
    ],
    "expected_variables": {
      "my_var": "hello",
      "another_var": 2.0
    }
  },
  {
    "description": "Exit operation from inner function - stops entire program execution.",
    "jisp_program": {
      "variables": {
        "outer_var": "outer_value",
        "inner_func": [
          [
            "push",
            "inner_value"
          ],
          [
            "push",
            "temp_var"
          ],
          [
            "set"
          ],
          [
            "exit"
          ],
          [
            "push",
            "should_not_reach_in_func"
          ]
        ]
      },
      "code": [
        [
          "push",
          10.0
        ],
        [
          "push",
          20.0
        ],
        [
          "set",
          "global_var"
        ],
        [
          "push",
          "inner_func"
        ],
        [
          "get"
        ],
        [
          "call"
        ],
        [
          "push",
          "should_not_reach_in_main"
        ]
      ]
    },
    "expected_stack": [
      10.0
    ],
    "expected_variables": {
      "outer_var": "outer_value",
      "global_var": 20.0
    }
  }
]
